<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Main objects: Jobs, Observables, Circuits… &mdash; myQLM documentation  documentation</title>
      <link rel="stylesheet" href="static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="static/contentui.css" type="text/css" />
    <link rel="shortcut icon" href="static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="static/documentation_options.js"></script>
        <script src="static/jquery.js"></script>
        <script src="static/underscore.js"></script>
        <script src="static/doctools.js"></script>
        <script src="static/contentui.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script src="static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building custom execution stacks" href="manipulating.html" />
    <link rel="prev" title="OpenQASM Compiler" href="myqlm_specific/openqasm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> myQLM documentation
            <img src="static/myqlm.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                myQLM-1.5.1-1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Basic usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/install.html">Installing myQLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="programming.html">Writing quantum circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulating.html">Executing quantum circuits</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_variational.html">Running variational algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="combinatorial_optimization_intro.html">Combinatorial optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/interoperability.html">Interoperability with myQLM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced usage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Main objects: Jobs, Observables, Circuits…</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#job-and-batch">Job and Batch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observables">Observables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#results">Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#circuits">Circuits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-high-level-wrapper">The high-level wrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#qubits-and-cbits">Qubits and cbits</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instruction-list">Instruction list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quantum-gates-and-gate-dictionary">Quantum gates and gate dictionary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulating.html">Building custom execution stacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_programming.html">Advanced programming using pyAQASM</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_combinatorial_optimization.html">Advanced combinatorial optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="aqasm.html">The AQASM format</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Command-line tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Source code documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="source_doc.html">Source code documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/notebooks.html">Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/contrib.html">Contributing to myQLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="myqlm_specific/release-note.html">Release notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">myQLM documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Main objects: Jobs, Observables, Circuits…</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="main-objects-jobs-observables-circuits">
<span id="introduction"></span><h1>Main objects: Jobs, Observables, Circuits…<a class="headerlink" href="#main-objects-jobs-observables-circuits" title="Permalink to this headline"></a></h1>
<p>MyQLM comes in the shape of a series of Python libraries. These libraries
are all articulated around a common set of classes, data structures,
and services. This page describes the main classes of myQLM as well as their
usefulness. These structures are all defined in the Python namespace
<a class="reference internal" href="qat-core.html#module-qat.core" title="qat.core"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qat.core</span></code></a> so please refer to <a class="reference internal" href="qat-core.html#qat-core"><span class="std std-ref">qat-core: Core data structures and Abstract classes</span></a> to read the source code
documentation of these structures.</p>
<section id="job-and-batch">
<h2>Job and Batch<a class="headerlink" href="#job-and-batch" title="Permalink to this headline"></a></h2>
<p>In the QLM, quantum circuits are viewed as routines preparing a quantum memory in a particular state.
Hence, some additional sampling information should be provided next to the quantum circuit.
The <a class="reference internal" href="qat-core.html#qat.core.Job" title="qat.core.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a> class fits this purpose. To define a <a class="reference internal" href="qat-core.html#qat.core.Job" title="qat.core.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a>, we will
provide various pieces of information such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>The type of sampling we would like to perform : standard computational basis sampling, sampling of an observable, etc.</p></li>
<li><p>The number of samples, or “shots”, to perform</p></li>
<li><p>Which qubits should be measured</p></li>
<li><p>The format of the returned data</p></li>
</ul>
</div></blockquote>
<p>A <a class="reference internal" href="qat-core.html#qat.core.Batch" title="qat.core.Batch"><code class="xref py py-class docutils literal notranslate"><span class="pre">Batch</span></code></a> object contains a list of jobs that allows to send several
circuits to a QPU with only a single request to the QPU.</p>
<p>An example using a batch to simulate a circuit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import and instantiate a QPU</span>
<span class="kn">from</span> <span class="nn">qat.pylinalg</span> <span class="kn">import</span> <span class="n">PyLinalg</span>
<span class="n">qpu</span> <span class="o">=</span> <span class="n">PyLinalg</span><span class="p">()</span>
<span class="c1"># Create a job from a circuit</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">to_job</span><span class="p">(</span><span class="n">nbshots</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">qubits</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>

<span class="c1"># Submit the job</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qpu</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="c1"># To iterate over final state vector produce by the circuit:</span>
<span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The state vector could be large, saving it into an array may lead to
memory issues.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The job is defined by <a class="reference internal" href="qat-core.html#qat.core.Job" title="qat.core.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">qat.core.Job</span></code></a>.
The batch is defined by <a class="reference internal" href="qat-core.html#qat.core.Batch" title="qat.core.Batch"><code class="xref py py-class docutils literal notranslate"><span class="pre">qat.core.Batch</span></code></a>.</p>
</div>
</section>
<section id="observables">
<h2>Observables<a class="headerlink" href="#observables" title="Permalink to this headline"></a></h2>
<p>As mentioned above, it is possible to construct a <a class="reference internal" href="qat-core.html#qat.core.Job" title="qat.core.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a> requiring the sampling of some observable on the final state produced by a quantum circuit. The <a class="reference internal" href="qat-core.html#qat.core.Observable" title="qat.core.Observable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Observable</span></code></a> class provides a basic interface to declare observables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">my_observable</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="c1"># A 4 qubits observable</span>
                           <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span>
                               <span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
                               <span class="n">Term</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="s2">&quot;XZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
                               <span class="n">Term</span><span class="p">(</span><span class="mf">3.</span><span class="p">,</span> <span class="s2">&quot;ZXZX&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
                           <span class="p">],</span>
                           <span class="n">constant_coeff</span><span class="o">=</span><span class="mf">23.</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_observable</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">23.0</span> <span class="o">*</span> <span class="n">I</span><span class="o">^</span><span class="mi">4</span> <span class="o">+</span>
<span class="mf">1.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span>
<span class="mf">4.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">XZ</span><span class="o">|</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">+</span>
<span class="mf">3.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">ZXZX</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>Observables can be added and multiplied by a scalar:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">obs1</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])])</span>
<span class="n">obs2</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">obs1</span> <span class="o">+</span> <span class="n">obs2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="o">+</span>
<span class="mf">1.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">X</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">obs1</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])])</span>

<span class="nb">print</span><span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">obs1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">4.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">ZZ</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>They can be composed via tensor product using the <cite>__xor__</cite> operator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">obs1</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])])</span>
<span class="n">obs2</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">obs1</span> <span class="o">^</span> <span class="n">obs2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.0</span> <span class="o">*</span> <span class="p">(</span><span class="n">ZZX</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>The commutator of two observables can be computed using the <cite>__or__</cite> operator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">obs1</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])])</span>
<span class="n">obs2</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">obs1</span> <span class="o">|</span> <span class="n">obs2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="n">j</span> <span class="o">*</span> <span class="p">(</span><span class="n">YZ</span><span class="o">|</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>And last but not least, observables can be attached to a circuit to form an observable sampling job:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core</span> <span class="kn">import</span> <span class="n">Observable</span><span class="p">,</span> <span class="n">Term</span>

<span class="n">obs</span> <span class="o">=</span> <span class="n">Observable</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">pauli_terms</span><span class="o">=</span><span class="p">[</span><span class="n">Term</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="s2">&quot;ZZ&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])])</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">to_job</span><span class="p">(</span><span class="n">observable</span><span class="o">=</span><span class="n">obs</span><span class="p">,</span> <span class="n">nbshots</span><span class="o">=</span><span class="mi">2048</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline"></a></h2>
<p>After sending a Job on a QPU, the returned results are
encapsulated in an object <a class="reference internal" href="qat-core.html#qat.core.Result" title="qat.core.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">qat.core.Result</span></code></a>.</p>
<p>Attributes of <a class="reference internal" href="qat-core.html#qat.core.Result" title="qat.core.Result"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>raw_data</strong> is a list of Sample (cf. <a class="reference internal" href="qat-core.html#qat.core.wrappers.result.Sample" title="qat.core.wrappers.result.Sample"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sample</span></code></a>)</p></li>
<li><p><strong>value</strong> scalar output (when sampling an observable)</p></li>
<li><p><strong>value_data</strong> informations on the scalar output</p></li>
<li><p><strong>meta_data</strong> any information the quantum processor might want to transmit to the user.</p></li>
</ul>
</div></blockquote>
<p>Attributes of <a class="reference internal" href="qat-core.html#qat.core.wrappers.result.Sample" title="qat.core.wrappers.result.Sample"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sample</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>amplitude</strong> the amplitude of the measured state</p></li>
<li><p><strong>probability</strong> is a float in [0,1] representing the probability of getting this state</p></li>
<li><p><strong>intermediate_measurements</strong> is a list summarizing the results of intermediate measurements</p></li>
<li><p><strong>err</strong> the sampling error</p></li>
</ul>
</div></blockquote>
</section>
<section id="circuits">
<span id="circuit-full-description"></span><h2>Circuits<a class="headerlink" href="#circuits" title="Permalink to this headline"></a></h2>
<p>Inside the environment of Python libraries offered by the QLM, quantum circuits are described using the <a class="reference internal" href="qat-core.html#qat.core.Circuit" title="qat.core.Circuit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Circuit</span></code></a> class. This class is in fact a wrapper of a serializable object. This wrapper provides and overloads various methods for an active manipulation of these objects.</p>
<section id="the-high-level-wrapper">
<h3>The high-level wrapper<a class="headerlink" href="#the-high-level-wrapper" title="Permalink to this headline"></a></h3>
<p>Most of the standard manipulations can be handled via the high-level interface of the circuit:</p>
<ul class="simple">
<li><p>iterating over the instructions using the <a class="reference internal" href="qat-core.html#qat.core.Circuit.iterate_simple" title="qat.core.Circuit.iterate_simple"><code class="xref py py-meth docutils literal notranslate"><span class="pre">qat.core.Circuit.iterate_simple()</span></code></a> method</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span>
<span class="kn">from</span> <span class="nn">qat.lang.AQASM.qftarith</span> <span class="kn">import</span> <span class="n">QFT</span>

<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">QFT</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">qbits</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">measure</span><span class="p">([</span><span class="n">qbits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">qbits</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">prog</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">qbits</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>

<span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">circuit</span><span class="o">.</span><span class="n">iterate_simple</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.5707963267948966</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7853981633974483</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.39269908169872414</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.5707963267948966</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7853981633974483</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;C-PH&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.5707963267948966</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;MEASURE&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;RESET&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>iterating over raw instructions (for advanced usage):</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span>
<span class="kn">from</span> <span class="nn">qat.lang.AQASM.qftarith</span> <span class="kn">import</span> <span class="n">QFT</span>

<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">QFT</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">qbits</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">measure</span><span class="p">([</span><span class="n">qbits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">qbits</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">prog</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="n">qbits</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>

<span class="k">for</span> <span class="n">instruction</span> <span class="ow">in</span> <span class="n">circuit</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">instruction</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_2&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_4&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_6&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_2&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_4&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_2&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="p">[],</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>concatenation using the overloaded <code class="code docutils literal notranslate"><span class="pre">__add__</span></code> operator</p></li>
<li><p>tensor product using the overloaded <code class="code docutils literal notranslate"><span class="pre">__mult__</span></code> operator</p></li>
<li><p>serialization/deserialization using the <a class="reference internal" href="qat-core.html#qat.core.Circuit.dump" title="qat.core.Circuit.dump"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dump()</span></code></a> and <a class="reference internal" href="qat-core.html#qat.core.Circuit.load" title="qat.core.Circuit.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> methods</p></li>
<li><p>abstract variables binding using the <a class="reference internal" href="qat-core.html#qat.core.Circuit.bind_variables" title="qat.core.Circuit.bind_variables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bind_variables()</span></code></a> method</p></li>
<li><p>easy job generation using the <a class="reference internal" href="qat-core.html#qat.core.Circuit.to_job" title="qat.core.Circuit.to_job"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_job()</span></code></a> method</p></li>
</ul>
</section>
<section id="qubits-and-cbits">
<h3>Qubits and cbits<a class="headerlink" href="#qubits-and-cbits" title="Permalink to this headline"></a></h3>
<p>The number of qubits and classical bits declared in the circuit can be accessed like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">circuit</span><span class="o">.</span><span class="n">nbqbits</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">nbcbits</span>
</pre></div>
</div>
<p>At circuit generation, the convention is to extend the number of classical bits to match the number of declared qubits. So it might be that your didn’t declare any cbits in pyAQASM, and still end up with a non-zero number of classical bits.</p>
<p>The field <cite>nbqbits</cite> might also be extended to match the total number of qbits used by the circuit (for instance if a sub-routine is using some ancillae that are dynamically allocated at inlining/emulation/execution).</p>
<p>This extension requires to emulate the flow of the circuit.</p>
<p>All quantum registers declared in pyAQASM can be found in the <cite>.qregs</cite> field.
The type of these registers is also stored in the QReg structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">qreg</span> <span class="ow">in</span> <span class="n">circuit</span><span class="o">.</span><span class="n">qregs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Register of length </span><span class="si">{}</span><span class="s2"> starting at </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qreg</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">qreg</span><span class="o">.</span><span class="n">start</span><span class="p">))</span>
</pre></div>
</div>
<p>Please refer to the section <a class="reference internal" href="qat-lang.html#quantum-types"><span class="std std-ref">Quantum types</span></a> to get more information on
registers.</p>
</section>
<section id="instruction-list">
<h3>Instruction list<a class="headerlink" href="#instruction-list" title="Permalink to this headline"></a></h3>
<p>The main ‘body’ of a <a class="reference internal" href="qat-core.html#qat.core.Circuit" title="qat.core.Circuit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Circuit</span></code></a> is described as a list of operations - <a class="reference internal" href="#qat.comm.datamodel.ttypes.Op" title="qat.comm.datamodel.ttypes.Op"><code class="xref py py-class docutils literal notranslate"><span class="pre">Op</span></code></a>.</p>
<p>Here is the formal documentation of these <cite>Op</cite> objects:</p>
<dl class="py class">
<dt class="sig sig-object py" id="qat.comm.datamodel.ttypes.Op">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">qat.comm.datamodel.ttypes.</span></span><span class="sig-name descname"><span class="pre">Op</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cbits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formula</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#qat.comm.datamodel.ttypes.Op" title="Permalink to this definition"></a></dt>
<dd><p>Operator structure. This structure describes any operation that
is accessible in AQASM/pyAQASM like quantum gate applications
(optionally classically controled) or measures, resets, breaks,
classical operations and classical remaps. The field <em>.type</em> is
used to distinguish between these cases.</p>
<dl class="simple">
<dt>Instance attributes:</dt><dd><ul class="simple">
<li><p><strong>gate</strong> (<em>str</em>): unique identifyer of the gate (if operator is a gate)</p></li>
<li><p><strong>qbits</strong> (<em>list</em>): indices of qubits on which the operator acts</p></li>
<li><p><strong>type</strong> (<em>OpType</em>, optional): type of operator (gate, measure…)</p></li>
<li><p><strong>cbits</strong> (<em>list</em>, optional): indices of classical bits in which to store output (if applicable)</p></li>
<li><p><strong>formula</strong> (<em>str</em>, optional): a string in RPF representing a boolean formula whose leaves
are cbit indexes (for resets, etc.)</p></li>
<li><p><strong>remap</strong> (<em>list</em>, optional): a list of qubit describing a permutation (if the gate is REMAP type)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p>More precisely the field <cite>.type</cite> in <a class="reference internal" href="#qat.comm.datamodel.ttypes.Op" title="qat.comm.datamodel.ttypes.Op"><code class="xref py py-class docutils literal notranslate"><span class="pre">Op</span></code></a> can be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[&#39;BREAK&#39;, &#39;CLASSIC&#39;, &#39;CLASSICCTRL&#39;, &#39;GATETYPE&#39;, &#39;MEASURE&#39;, &#39;REMAP&#39;, &#39;RESET&#39;]
</pre></div>
</div>
<p>Once the type is set, various attributes of the <a class="reference internal" href="#qat.comm.datamodel.ttypes.Op" title="qat.comm.datamodel.ttypes.Op"><code class="xref py py-class docutils literal notranslate"><span class="pre">Op</span></code></a> object are used to store relevant pieces of information.</p>
<ul>
<li><p><strong>GATETYPE</strong> corresponds to a quantum gate application (without classical control). In that case:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.gate</cite> will contain the name of the gate (see below the gate dictionary section for detailed use of this name)</p></li>
<li><p><cite>op.qbits</cite> will contain the list of the target qubits</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>CLASSICCTRL</strong> corresponds to a quantum gate application with classical control. In addition to the fields used in the <strong>GATETYPE</strong> case, here we also have:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.cbits</cite> will contain a list of size 1 with a single cbit to be used as control classical bit</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>MEASURE</strong> corresponds to a measure operation:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.qbits</cite> will contain a list of qubits to measure</p></li>
<li><p><cite>op.cbits</cite> will contain a list of cbits to store the results. The two lists will have the exact same size.</p></li>
</ul>
</div></blockquote>
<ul>
<li><p><strong>BREAK</strong> corresponds to a break operation:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.formula</cite> will contain a (prefix formatted) string containing a boolean formula to evaluate over the current values of the cbits in order to determine if the computation should be aborted or not. <a class="reference internal" href="qat-core.html#qat.core.formula_eval.evaluate" title="qat.core.formula_eval.evaluate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qat.core.formula_eval.evaluate</span></code></a> provides an implementation of this evaluation, if required.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.core.formula_eval</span> <span class="kn">import</span> <span class="n">evaluate</span>

<span class="n">formula</span> <span class="o">=</span> <span class="s2">&quot;AND 1 OR 0 2&quot;</span>
<span class="n">cbit_values</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="n">evaluate</span><span class="p">(</span><span class="n">formula</span><span class="p">,</span> <span class="n">cbit_values</span><span class="p">)</span> <span class="c1">#should return False</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>RESET</strong> corresponds to reset operations.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.qbits</cite> will contain a list of qubits to reset</p></li>
<li><p><cite>op.cbits</cite> will contain a list of cbits to reset</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>REMAP</strong> corresponds to classical remaps/rewiring of the qubits. These can be seen as permutations of the index of the qubits.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.qbits</cite> will contain a list of qubits that are to be rewired</p></li>
<li><p><cite>op.remap</cite> will contain a list of integers describing the way the qubits are remapped</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>CLASSIC</strong> corresponds to a classical operation between cbits.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>op.cbits</cite> will contain the cbit receiving a new value</p></li>
<li><p><cite>op.formula</cite> will contain a (prefix formatted) string containing a boolean formula to evaluate over the current values of the cbits</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="quantum-gates-and-gate-dictionary">
<h3>Quantum gates and gate dictionary<a class="headerlink" href="#quantum-gates-and-gate-dictionary" title="Permalink to this headline"></a></h3>
<p>All quantum gates names (the <cite>op.gate</cite> field) are in fact keys of a dictionary stored in the <cite>circuit.gateDic</cite> field of the circuit.
Entries in this dictionary are of the type <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span>
<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circuit</span><span class="o">.</span><span class="n">gateDic</span><span class="p">[</span><span class="s2">&quot;H&quot;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GateDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">arity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">matrix</span><span class="o">=</span><span class="n">Matrix</span><span class="p">(</span><span class="n">nRows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=-</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)]),</span> <span class="n">is_ctrl</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_dag</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_trans</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_conj</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subgate</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">syntax</span><span class="o">=</span><span class="n">GSyntax</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[]),</span> <span class="n">nbctrls</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">circuit_implementation</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<div class="toggle-header docutils container">
<p><em>Toggle to get the documentation of</em> <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Class <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a> is not designed to be instantiated manually.
Please refer to the <a class="reference internal" href="programming.html#programming"><span class="std std-ref">Writting quantum circuits</span></a> section or the
<a class="reference internal" href="qat-lang.html#module-qat.lang" title="qat.lang"><code class="xref py py-mod docutils literal notranslate"><span class="pre">qat.lang</span></code></a> module to create your own circuits</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="qat.comm.datamodel.ttypes.GateDefinition">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">qat.comm.datamodel.ttypes.</span></span><span class="sig-name descname"><span class="pre">GateDefinition</span></span><a class="headerlink" href="#qat.comm.datamodel.ttypes.GateDefinition" title="Permalink to this definition"></a></dt>
<dd><p>A gate definition describes the implementation of a quantum gate. A quantum gate can be defined
by:</p>
<blockquote>
<div><ul class="simple">
<li><p>a unitary matrix</p></li>
<li><p>a function of another gate (i.e. control of a subgate, dagger of a subgate, …)</p></li>
<li><p>a subcircuit</p></li>
</ul>
</div></blockquote>
<dl>
<dt>Instance attributes:</dt><dd><ul>
<li><p><strong>matrix</strong> (<em>optional</em>): the matrix implementation of the gate. A matrix
is defined with the following attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>nCols</strong> (<em>int</em>): the number of columns in the matrix</p></li>
<li><p><strong>nRows</strong> (<em>int</em>): the number of rows in the matrix</p></li>
<li><p><strong>data</strong> (<em>list</em>): list of complex numbers describing the content of this matrix</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>is_ctrl</strong> (<em>bool, optional</em>, <strong>deprecated</strong>): indicates if the gate is a controled version of another gate</p></li>
<li><p><strong>is_dag</strong> (<em>bool, optional</em>): indicates if the gate is a dagger version of another gate</p></li>
<li><p><strong>is_conj</strong> (<em>bool, optional</em>): indicates if the gate is a conjugate version of another gate</p></li>
<li><p><strong>is_trans</strong> (<em>bool, optional</em>): indicates if the gate is a transpose version of another gate</p></li>
<li><p><strong>nbctrls</strong> (<em>int, optional</em>): signifies that the gate is a multiple controled version of another gate. If set to a non-zero number, <cite>subgate</cite> will store the corresponding subgate.</p></li>
<li><p><strong>subgate</strong> (<em>str, optional</em>): will store the name of the subgate if any one of the <cite>.is_ctrl</cite>, <cite>.is_dag</cite>, <cite>.is_conj</cite>, <cite>.is_trans</cite> is true, or
if <cite>.nbctrls</cite> is a strict positive integer.</p></li>
<li><p><strong>arity</strong> (<em>int</em>): an integer representing the number of qubits on which this gate can be applied</p></li>
<li><p><strong>syntax</strong> (<em>optional</em>): the syntax of the gate (if any). A syntax is defined
with the following attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>): name of the gate (e.g. “H”, “RZ”, etc.)</p></li>
<li><p><strong>parameters</strong> (<em>list</em>): parameters used to build the gate</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>circuit_implementation</strong> (<em>optional</em>): if the gate has an implementation in the form of a subroutine, this
attribute contains the subcircuit corresponding to the gate. Definitions of gates generated with an
<a class="reference internal" href="qat-lang.html#qat.lang.AQASM.gates.AbstractGate" title="qat.lang.AQASM.gates.AbstractGate"><code class="xref py py-class docutils literal notranslate"><span class="pre">AbstractGate</span></code></a> may have this attribute defined. A circuit implementation is defined
by the following attributes:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>ops</strong> (<em>list</em>): list of <a class="reference internal" href="#qat.comm.datamodel.ttypes.Op" title="qat.comm.datamodel.ttypes.Op"><code class="xref py py-class docutils literal notranslate"><span class="pre">Op</span></code></a></p></li>
<li><p><strong>ancillas</strong> (<em>int</em>): number of ancillas</p></li>
<li><p><strong>nbqbits</strong> (<em>int</em>): number of qubits used by the subroutine</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</div>
<p>There are three different ways to define the implementation of
a gate:</p>
<div class="toggle-header docutils container">
<p><strong>Using a matrix</strong></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><p>The definition of a gate is given by a matrix. The attribute <code class="code docutils literal notranslate"><span class="pre">matrix</span></code>
of <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a> will contain the matrix.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span><span class="p">,</span> <span class="n">H</span>

<span class="c1"># Create a circuit</span>
<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">qbit</span><span class="p">)</span>
<span class="n">circ</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>

<span class="c1"># Extract the definition of the gate H</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The ID of the first gate is </span><span class="si">{</span><span class="n">circ</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">gate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circ</span><span class="o">.</span><span class="n">gateDic</span><span class="p">[</span><span class="s2">&quot;H&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">first</span> <span class="n">gate</span> <span class="ow">is</span> <span class="n">H</span>
<span class="n">Matrix</span><span class="p">(</span><span class="n">nRows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nCols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">),</span> <span class="n">ComplexNumber</span><span class="p">(</span><span class="n">re</span><span class="o">=-</span><span class="mf">0.7071067811865475</span><span class="p">,</span> <span class="n">im</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)])</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="toggle-header docutils container">
<p><strong>Using a subgate</strong></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><p>The definition of a gate is given by a subgate and a transformation. The attribute
<code class="code docutils literal notranslate"><span class="pre">subgate</span></code> of <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a> will contain
the name of the subgate.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span><span class="p">,</span> <span class="n">H</span>

<span class="c1"># Create a circuit</span>
<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">H</span><span class="o">.</span><span class="n">ctrl</span><span class="p">(),</span> <span class="n">qbits</span><span class="p">)</span>
<span class="n">circ</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>

<span class="c1"># Extract the definition of the gate C-H</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The ID of the first gate is </span><span class="si">{</span><span class="n">circ</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">gate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">definition</span> <span class="o">=</span> <span class="n">circ</span><span class="o">.</span><span class="n">gateDic</span><span class="p">[</span><span class="s2">&quot;_0&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This gate &#39;_0&#39; controls </span><span class="si">{</span><span class="n">definition</span><span class="o">.</span><span class="n">nbctrls</span><span class="si">}</span><span class="s2"> time the gate </span><span class="si">{</span><span class="n">definition</span><span class="o">.</span><span class="n">subgate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">first</span> <span class="n">gate</span> <span class="ow">is</span> <span class="n">_0</span>
<span class="n">This</span> <span class="n">gate</span> <span class="s1">&#39;_0&#39;</span> <span class="n">controls</span> <span class="mi">1</span> <span class="n">time</span> <span class="n">the</span> <span class="n">gate</span> <span class="n">H</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="toggle-header docutils container">
<p><strong>Using a circuit implementation</strong></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><p>The definition of a gate is given by a circuit implementation. The attribute
<code class="code docutils literal notranslate"><span class="pre">circuit_implementation</span></code> of <a class="reference internal" href="#qat.comm.datamodel.ttypes.GateDefinition" title="qat.comm.datamodel.ttypes.GateDefinition"><code class="xref py py-class docutils literal notranslate"><span class="pre">GateDefinition</span></code></a>
contains the definition of the gate.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span>
<span class="kn">from</span> <span class="nn">qat.lang.AQASM.qftarith</span> <span class="kn">import</span> <span class="n">QFT</span>

<span class="c1"># Create a circuit</span>
<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">QFT</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">qbits</span><span class="p">)</span>
<span class="n">circ</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>

<span class="c1"># Extract the definition of QFT(2)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The circuit is composed of </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">circ</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span><span class="si">}</span><span class="s2"> gate&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The definition of the gate is given by the subcircuit:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circ</span><span class="o">.</span><span class="n">gateDic</span><span class="p">[</span><span class="s2">&quot;_0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">circuit_implementation</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">circuit</span> <span class="ow">is</span> <span class="n">composed</span> <span class="n">of</span> <span class="mi">1</span> <span class="n">gate</span>
<span class="n">The</span> <span class="n">definition</span> <span class="n">of</span> <span class="n">the</span> <span class="n">gate</span> <span class="ow">is</span> <span class="n">given</span> <span class="n">by</span> <span class="n">the</span> <span class="n">subcircuit</span><span class="p">:</span>
<span class="p">[</span><span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span> <span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;_2&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span> <span class="n">Op</span><span class="p">(</span><span class="n">gate</span><span class="o">=</span><span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="n">qbits</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">type</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cbits</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">formula</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remap</span><span class="o">=</span><span class="kc">None</span><span class="p">)]</span>
</pre></div>
</div>
</div></blockquote>
</div>
</section>
</section>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline"></a></h2>
<p>All exceptions raised by QPUs and Plugins are Thrift exceptions. This is particularly usefull when using a remote QPU/Plugin, since it allows the server to cleanly catch the exception and transmit it to the client. Upon receiving the exception, the client will raise it, thus emulating a ‘local’ behavior.</p>
<div class="toggle-header docutils container">
<p><em>Toggle to get the documentation of exceptions classes</em></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><dl class="py class">
<dt class="sig sig-object py" id="qat.comm.exceptions.ttypes.QPUException">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">qat.comm.exceptions.ttypes.</span></span><span class="sig-name descname"><span class="pre">QPUException</span></span><a class="headerlink" href="#qat.comm.exceptions.ttypes.QPUException" title="Permalink to this definition"></a></dt>
<dd><p>A QPU is supposed to raise an exception of type
<a class="reference internal" href="#qat.comm.exceptions.ttypes.QPUException" title="qat.comm.exceptions.ttypes.QPUException"><code class="xref py py-class docutils literal notranslate"><span class="pre">QPUException</span></code></a></p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>): error code</p></li>
<li><p><strong>modulename</strong> (<em>str, optional</em>): module in which the exception is
raised</p></li>
<li><p><strong>message</strong> (<em>str, optional</em>): error message</p></li>
<li><p><strong>file</strong> (<em>str, optional</em>): file in which the exception is raised</p></li>
<li><p><strong>line</strong> (<em>int, optional</em>): line index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="qat.comm.exceptions.ttypes.PluginException">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">qat.comm.exceptions.ttypes.</span></span><span class="sig-name descname"><span class="pre">PluginException</span></span><a class="headerlink" href="#qat.comm.exceptions.ttypes.PluginException" title="Permalink to this definition"></a></dt>
<dd><p>A Plugin is supposed to raise an exception of type
<a class="reference internal" href="#qat.comm.exceptions.ttypes.PluginException" title="qat.comm.exceptions.ttypes.PluginException"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginException</span></code></a></p>
<dl class="simple">
<dt>Parameters:</dt><dd><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>): error code</p></li>
<li><p><strong>modulename</strong> (<em>str, optional</em>): module in which the exception is
raised</p></li>
<li><p><strong>message</strong> (<em>str, optional</em>): error message</p></li>
<li><p><strong>file</strong> (<em>str, optional</em>): file in which the exception is raised</p></li>
<li><p><strong>line</strong> (<em>int, optional</em>): line index</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div></blockquote>
</div>
<p>QPUs will raise exceptions called <a class="reference internal" href="#qat.comm.exceptions.ttypes.QPUException" title="qat.comm.exceptions.ttypes.QPUException"><code class="xref py py-class docutils literal notranslate"><span class="pre">QPUException</span></code></a>,
while Plugins will raise <a class="reference internal" href="#qat.comm.exceptions.ttypes.PluginException" title="qat.comm.exceptions.ttypes.PluginException"><code class="xref py py-class docutils literal notranslate"><span class="pre">PluginException</span></code></a>.
Usually, the exception will contain a message that should be clear enough for you to understand what went wrong.</p>
<p>Some additional information is packed inside the exception, taking the form of a file name and a line number.</p>
<div class="toggle-header docutils container">
<p><em>Toggle to get the list of error codes</em></p>
</div>
<div class="toggle-content docutils container">
<blockquote>
<div><p>Each error code is defined in the enumeration
<a class="reference internal" href="#qat.comm.exceptions.ttypes.ErrorType" title="qat.comm.exceptions.ttypes.ErrorType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorType</span></code></a>. This enumeration is composed
of the following items:</p>
<blockquote>
<div><ul class="simple">
<li><p>Error <strong>ABORT</strong> (code <span class="math notranslate nohighlight">\(1\)</span>) raised when the execution is
stopped</p></li>
<li><p>Error <strong>INVALID_ARGS</strong> (code <span class="math notranslate nohighlight">\(2\)</span>) raised when arguments
are invalid</p></li>
<li><p>Error <strong>NONRESULT</strong> (code <span class="math notranslate nohighlight">\(5\)</span>) raised when the result is not
available</p></li>
<li><p>Error <strong>BREAK</strong> (code <span class="math notranslate nohighlight">\(10\)</span>) raised by a <em>BREAK</em> gate in the circuit</p></li>
<li><p>Error <strong>ILLEGAL_GATES</strong> (code <span class="math notranslate nohighlight">\(11\)</span>) raised when the circuit contains
a gate unknown for the QPU</p></li>
<li><p>Error <strong>NBQBITS</strong> (code <span class="math notranslate nohighlight">\(12\)</span>) raised when the number of qubits
composing the circuit is not compatible with the QPU</p></li>
<li><p>Error <strong>NBCBITS</strong> (code <span class="math notranslate nohighlight">\(13\)</span>) raised when the number of cbits
composing the circuit is not compatible with the QPU</p></li>
<li><p>Error <strong>NOT_SIMULATABLE</strong> (code <span class="math notranslate nohighlight">\(14\)</span>) raised when a job is
not simulatable</p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="qat.comm.exceptions.ttypes.ErrorType">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">qat.comm.exceptions.ttypes.</span></span><span class="sig-name descname"><span class="pre">ErrorType</span></span><a class="headerlink" href="#qat.comm.exceptions.ttypes.ErrorType" title="Permalink to this definition"></a></dt>
<dd><p>Enumeration containing all the defined error code</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.comm.exceptions.ttypes</span> <span class="kn">import</span> <span class="n">ErrorType</span>

<span class="n">abort_code</span> <span class="o">=</span> <span class="n">ErrorType</span><span class="o">.</span><span class="n">ABORT</span>
</pre></div>
</div>
<p>The error codes are:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>ABORT</strong> = 1</p></li>
<li><p><strong>INVALID_ARGS</strong> = 3</p></li>
<li><p><strong>NONRESULT</strong> = 5</p></li>
<li><p><strong>BREAK</strong> = 10</p></li>
<li><p><strong>ILLEGAL_GATES</strong> = 11</p></li>
<li><p><strong>NBQBITS</strong> = 12</p></li>
<li><p><strong>NBCBITS</strong> = 13</p></li>
<li><p><strong>NOT_SIMULATABLE</strong> = 14</p></li>
</ul>
</div></blockquote>
</dd></dl>

</div></blockquote>
</div>
<p>Additionally, exceptions come with an error code that characterizes the type of error that appeared inside the Plugin/QPU:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span><span class="p">,</span> <span class="n">RZ</span>
<span class="kn">from</span> <span class="nn">qat.qpus</span> <span class="kn">import</span> <span class="n">PyLinalg</span>
<span class="kn">from</span> <span class="nn">qat.comm.exceptions.ttypes</span> <span class="kn">import</span> <span class="n">QPUException</span>

<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">RZ</span><span class="p">(</span><span class="mf">0.4</span><span class="p">),</span> <span class="n">qbits</span><span class="p">)</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">(</span><span class="n">include_matrices</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">to_job</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">PyLinalg</span><span class="p">()</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
<span class="k">except</span> <span class="n">QPUException</span> <span class="k">as</span> <span class="n">excp</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">excp</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPUException</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">modulename</span><span class="o">=</span><span class="s1">&#39;qat.pylinalg&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Gate RZ has no matrix!&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s1">&#39;qat/pylinalg/simulator.py&#39;</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="mi">103</span><span class="p">)</span>
</pre></div>
</div>
<p>Here code <span class="math notranslate nohighlight">\(14\)</span> means that the simulator encountered a non supported gate (here a gate with no matrix).</p>
<p>Another useful code is the one raised when a break instruction is triggered:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qat.lang.AQASM</span> <span class="kn">import</span> <span class="n">Program</span>
<span class="kn">from</span> <span class="nn">qat.qpus</span> <span class="kn">import</span> <span class="n">PyLinalg</span>
<span class="kn">from</span> <span class="nn">qat.comm.exceptions.ttypes</span> <span class="kn">import</span> <span class="n">QPUException</span>

<span class="n">prog</span> <span class="o">=</span> <span class="n">Program</span><span class="p">()</span>
<span class="n">qbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">qalloc</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">cbits</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">calloc</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">prog</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">qbits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cbits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">prog</span><span class="o">.</span><span class="n">cbreak</span><span class="p">(</span><span class="o">~</span><span class="n">cbits</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">circuit</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">to_circ</span><span class="p">()</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">circuit</span><span class="o">.</span><span class="n">to_job</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">PyLinalg</span><span class="p">()</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
<span class="k">except</span> <span class="n">QPUException</span> <span class="k">as</span> <span class="n">excp</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">excp</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QPUException</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">modulename</span><span class="o">=</span><span class="s1">&#39;qat.pylinalg&#39;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;BREAK at gate #1 : formula : NOT 0, cbits : [(0, False)]&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">line</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>Code <span class="math notranslate nohighlight">\(10\)</span> will always refer to a triggered break instruction.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="myqlm_specific/openqasm.html" class="btn btn-neutral float-left" title="OpenQASM Compiler" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="manipulating.html" class="btn btn-neutral float-right" title="Building custom execution stacks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Atos 2016-2022.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>